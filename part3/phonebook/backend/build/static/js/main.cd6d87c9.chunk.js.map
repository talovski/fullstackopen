{"version":3,"sources":["components/Filter.js","services/persons.js","components/AddPerson.js","components/RemovePerson.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","AddPerson","props","persons","setPersons","newName","newNumber","setNewName","setNewNumber","handleNameChange","handleNumberChange","setNotification","onSubmit","event","preventDefault","nameObject","name","number","undefined","window","alert","some","person","confirmationMessage","confirm","personToChange","find","console","log","personChanged","personService","map","setTimeout","concat","catch","error","type","RemovePerson","message","onClick","Person","Persons","peopleToShow","Notification","className","App","useState","setFilter","notification","useEffect","toLowerCase","includes","e","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cd6d87c9.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      show filter with: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","/* eslint-disable import/no-anonymous-default-export */\nimport axios from \"axios\";\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\n// Get all persons from phonebook db\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\n// Add person to phonebook\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\n// Delete person from phonebook\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\n//Update person's number\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst AddPerson = (props) => {\n  const {\n    persons,\n    setPersons,\n    newName,\n    newNumber,\n    setNewName,\n    setNewNumber,\n    handleNameChange,\n    handleNumberChange,\n    setNotification,\n  } = props;\n\n  const addName = (event) => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n    if (persons.name === undefined && persons.number === undefined) {\n      return (window.alert('Please, add name and number'))\n    }\n\n    const dublicates = (person) => person.name === newName;\n    if (persons.some(dublicates)) {\n      const confirmationMessage = `${newName} is already in the phonebook. Wanna change?`;\n      if (window.confirm(confirmationMessage)) {\n        const personToChange = persons.find(\n          (person) => person.name === newName\n        );\n        const id = personToChange.id;\n        console.log('Message from AddPerson', id)\n        const personChanged = { ...personToChange, number: newNumber };\n        personService.update(id, personChanged).then((response) => {\n          setPersons(\n            persons.map((person) => (person.id !== id ? person : response))\n          );\n          setNotification(`Updated phone for ${personChanged.name}`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        });\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      personService\n        .create(nameObject)\n        .then((response) => {\n          setPersons(persons.concat(response));\n          setNotification(\n            `Added ${newName} with ${newNumber} to the phonebook`\n          );\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          setNotification(`${newName} was added to the phonebook`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\nexport default AddPerson;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst RemovePerson = ({ person, setPersons, persons, setNotification }) => {\n  const name = person.name;\n  const id = person.id\n  console.log('Message from RemovePerson', person.id)\n  const message = `Are you sure you want to delete ${name} from the phonebook?`;\n  const remove = () => {\n    if (window.confirm(message)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`${person.name} was removed from the phonebook`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        })\n        .catch((error) => {\n          setNotification(\n            `${person.name} was already removed from the phonebook`\n          );\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n  return (\n    <button value={person.id} onClick={remove}>\n      remove\n    </button>\n  );\n};\n\nexport default RemovePerson;\n","import React from \"react\";\nimport RemovePerson from \"./RemovePerson\";\n\nconst Person = ({ person, setPersons, persons, setNotification }) => {\n  return (\n    <li>\n      {\" \"}\n      {person.name} {person.number}{\" \"}\n      <RemovePerson\n        person={person}\n        persons={persons}\n        setPersons={setPersons}\n        setNotification={setNotification}\n      />\n    </li>\n  );\n};\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ peopleToShow, setPersons, persons, setNotification }) => {\n  return (\n    <ul>\n      {peopleToShow.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          setPersons={setPersons}\n          persons={persons}\n          setNotification={setNotification}\n        />\n      ))}\n    </ul>\n  );\n};\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport AddPerson from \"./components/AddPerson\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  // get persons from db\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNameChange = e => setNewName(e.target.value)\n  const handleNumberChange = e => setNewNumber(e.target.value)\n  const handleFilterChange = e => setFilter(e.target.value)\n\n  const peopleToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n  console.log('peopleToShow', peopleToShow)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add new</h3>\n      <AddPerson\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        notification={notification}\n        setNotification={setNotification}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        peopleToShow={peopleToShow}\n        setPersons={setPersons}\n        persons={persons}\n        setNotification={setNotification}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}