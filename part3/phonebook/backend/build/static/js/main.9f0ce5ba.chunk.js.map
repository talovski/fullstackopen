{"version":3,"sources":["components/Filter.js","services/persons.js","components/AddPerson.js","components/RemovePerson.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","AddPerson","props","persons","setPersons","newName","newNumber","setNewName","setNewNumber","handleNameChange","handleNumberChange","setNotification","onSubmit","event","preventDefault","nameObject","name","number","some","person","confirmationMessage","window","confirm","personToChange","find","personChanged","personService","map","setTimeout","concat","catch","error","type","RemovePerson","message","onClick","Person","Persons","peopleToShow","Notification","className","App","useState","setFilter","notification","useEffect","toLowerCase","includes","e","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f0ce5ba.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      show filter with: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","/* eslint-disable import/no-anonymous-default-export */\nimport axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\n// Get all persons from phonebook db\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\n// Add person to phonebook\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\n// Delete person from phonebook\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\n//Update person's number\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst AddPerson = (props) => {\n  const {\n    persons,\n    setPersons,\n    newName,\n    newNumber,\n    setNewName,\n    setNewNumber,\n    handleNameChange,\n    handleNumberChange,\n    setNotification,\n  } = props;\n\n  const addName = (event) => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const dublicates = (person) => person.name === newName;\n    if (persons.some(dublicates)) {\n      const confirmationMessage = `${newName} is already in the phonebook. Wanna change?`;\n      if (window.confirm(confirmationMessage)) {\n        const personToChange = persons.find(\n          (person) => person.name === newName\n        );\n        const id = personToChange.id;\n        const personChanged = { ...personToChange, number: newNumber };\n        personService.update(id, personChanged).then((response) => {\n          setPersons(\n            persons.map((person) => (person.id !== id ? person : response))\n          );\n          setNotification(`Updated phone for ${personChanged.name}`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        });\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      personService\n        .create(nameObject)\n        .then((response) => {\n          setPersons(persons.concat(response));\n          setNotification(\n            `Added ${newName} with ${newNumber} to the phonebook`\n          );\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          setNotification(`${newName} was added to the phonebook`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\nexport default AddPerson;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst RemovePerson = ({ person, setPersons, persons, setNotification }) => {\n  const { name } = person;\n  const { id } = person;\n  const message = `Are you sure you want to delete ${name} from the phonebook?`;\n  const remove = () => {\n    if (window.confirm(message)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`${person.name} was removed from the phonebook`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n        })\n        .catch((error) => {\n          setNotification(\n            `${person.name} was already removed from the phonebook`\n          );\n          setTimeout(() => {\n            setNotification(null);\n          }, 6000);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n  return (\n    <button value={person.id} onClick={remove}>\n      remove\n    </button>\n  );\n};\n\nexport default RemovePerson;\n","import React from \"react\";\nimport RemovePerson from \"./RemovePerson\";\n\nconst Person = ({ person, setPersons, persons, setNotification }) => {\n  return (\n    <li>\n      {\" \"}\n      {person.name} {person.number}{\" \"}\n      <RemovePerson\n        person={person}\n        persons={persons}\n        setPersons={setPersons}\n        setNotification={setNotification}\n      />\n    </li>\n  );\n};\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ peopleToShow, setPersons, persons, setNotification }) => {\n  return (\n    <ul>\n      {peopleToShow.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          setPersons={setPersons}\n          persons={persons}\n          setNotification={setNotification}\n        />\n      ))}\n    </ul>\n  );\n};\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport AddPerson from \"./components/AddPerson\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  // get persons from db\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNameChange = e => setNewName(e.target.value)\n  const handleNumberChange = e => setNewNumber(e.target.value)\n  const handleFilterChange = e => setFilter(e.target.value)\n\n  const peopleToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add new</h3>\n      <AddPerson\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        notification={notification}\n        setNotification={setNotification}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        peopleToShow={peopleToShow}\n        setPersons={setPersons}\n        persons={persons}\n        setNotification={setNotification}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}